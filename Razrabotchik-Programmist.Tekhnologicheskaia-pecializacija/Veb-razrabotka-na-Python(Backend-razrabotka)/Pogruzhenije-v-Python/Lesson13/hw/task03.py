"""
Напишите программу, которая запрашивает у пользователя число до тех пор, пока
сумма этих чисел не станет больше либо равна 777. Каждое введенное число при этом
дозаписывается в файл. Сделайте так, чтобы перед дозаписью программа с
вероятностью 1 к 13 выбрасывала пользователю случайное исключение и
завершалась.
Пример 1:
Введите число: 10
Введите число: 500
Введите число: 200
Введите число: 67
Вы успешно выполнили условие для выхода из порочного цикла!
Содержимое файла out_file.txt:
10
500
200
67
Пример 2:
Введите число: 10
Введите число: 500
Вас постигла неудача!
Содержимое файла out_file.txt:
10
"""

import random


def main():
    total_sum = 0
    numbers = []

    # Открытие файла для дозаписи
    with open("out_file.txt", "a") as file:
        while total_sum < 777:
            try:
                # Запрашиваем число
                number = int(input("Введите число: "))

                # Дозаписываем число в файл
                file.write(f"{number}\n")

                # Добавляем число к общей сумме
                total_sum += number
                numbers.append(number)

                # С вероятностью 1 к 13 выбрасываем исключение
                if random.randint(1, 13) == 1:
                    raise Exception("Вас постигла неудача!")

            except Exception as e:
                print(f"{e}")
                break

        # Если условие выполнено, выводим сообщение об успешном завершении
        if total_sum >= 777:
            print("Вы успешно выполнили условие для выхода из порочного цикла!")

    # Вывод содержимого файла
    with open("out_file.txt", "r") as file:
        print("\nСодержимое файла out_file.txt:")
        print(file.read())


# Запуск программы
if __name__ == "__main__":
    main()

"""
В рамках программы колонизации Марса компания «Спейс Инжиниринг»
вывела особую породу черепах, которые, по задумке, должны размножаться,
откладывая яйца в марсианском грунте. Откладывать яйца слишком близко к
поверхности опасно из-за радиации, а слишком глубоко — из-за давления
грунта и недостатка кислорода. Вообще, факторов очень много, но
специалисты проделали большую работу и предположили, что уровень
опасности для черепашьих яиц рассчитывается по формуле: D = x^3 − 3x^2 −
12x + 10, где x — глубина кладки в метрах, а D — уровень опасности в
условных единицах. Для тестирования гипотезы нужно взять пробу грунта на
безопасной, согласно формуле, глубине.
Напишите программу, находящую такое значение глубины х, при котором
уровень опасности как можно более близок к нулю. На вход программе
подаётся максимально допустимое отклонение уровня опасности от нуля, а
программа должна рассчитать приблизительное значение х, удовлетворяющее
этому отклонению. Известно, что глубина точно больше нуля и меньше четырёх
метров. Обеспечьте контроль ввода.
Пример:
Введите максимально допустимый уровень опасности: 0.01
Приблизительная глубина безопасной кладки: 0.732421875 м
"""

def danger_level(x):
    """Вычисляет уровень опасности по заданной формуле."""
    return x**3 - 3*x**2 - 12*x + 10

def find_safe_depth(tolerance):
    """Находит безопасную глубину кладки с заданным уровнем допустимого отклонения."""
    low = 0.0
    high = 4.0
    mid = 0.0

    while (high - low) > tolerance:
        mid = (low + high) / 2
        if danger_level(mid) > 0:
            high = mid  # Уменьшаем диапазон сверху
        else:
            low = mid  # Увеличиваем диапазон снизу

    return mid

def main():
    # Запрос максимального допустимого отклонения от нуля
    while True:
        try:
            tolerance = float(input("Введите максимально допустимый уровень опасности: "))
            if tolerance <= 0:
                print("Уровень опасности должен быть положительным числом.")
                continue
            break
        except ValueError:
            print("Некорректный ввод. Пожалуйста, введите число.")

    # Находим безопасную глубину
    safe_depth = find_safe_depth(tolerance)
    print(f"Приблизительная глубина безопасной кладки: {safe_depth:.9f} м")

# Запуск основной программы
if __name__ == "__main__":
    main()
